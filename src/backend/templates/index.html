<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ARISAN SIFISO</title>
</head>
<body>
    <h1>ðŸŽ´ ARISAN SIFISO ðŸŽ´</h1>
    <p>A lightweight FastUI-powered card game interface</p>

    <button onclick="startGame()">Start Game</button>
    <button onclick="resetGame()">Reset Game</button>
    <button onclick="fetchPlayers()">View Players</button>
    <button onclick="fetchLeaderboard()">Leaderboard</button>

    <div id="game-output"></div>

    <script>
        function startGame() {
            fetch('/start_game', { method: 'POST' })
                .then(response => response.json())
                .then(data => {
                    document.getElementById("game-output").innerHTML = `<p>${data.message}</p>`;
                })
                .catch(error => console.error("Error:", error));
        }

        function resetGame() {
            fetch('/reset_game', { method: 'POST' })
                .then(response => response.json())
                .then(data => {
                    document.getElementById("game-output").innerHTML = `<p>${data.message}</p>`;
                })
                .catch(error => console.error("Error:", error));
        }

        function fetchPlayers() {
            fetch('/view_players')
                .then(response => response.json())
                .then(data => {
                    let output = "<h3>Players:</h3><ul>";
                    data.players.forEach(player => {
                        output += `<li>${player.name} (Strategy: ${player.strategy}) - Score: ${player.score}, Suit Score: ${player.suit_score}</li>`;
                    });
                    output += "</ul>";
                    document.getElementById("game-output").innerHTML = output;
                })
                .catch(error => console.error("Error:", error));
        }

        function fetchLeaderboard() {
            fetch('/leaderboard')
                .then(response => response.json())
                .then(data => {
                    let output = "<h3>Leaderboard:</h3><ul>";
                    data.leaderboard.forEach(entry => {
                        output += `<li>${entry.name} - Wins: ${entry.wins}</li>`;
                    });
                    output += "</ul>";
                    document.getElementById("game-output").innerHTML = output;
                })
                .catch(error => console.error("Error:", error));
        }
    </script>
</body>
</html>
